import type { Meta, StoryObj } from "@storybook/react";
import { isDarkBackground } from "../../../.storybook/utils";
import { CausalAnalysis } from "./CausalAnalysis";

// More on how to set up stories at: https://storybook.js.org/docs/react/writing-stories/introduction#default-export
const meta: Meta<typeof CausalAnalysis> = {
  component: CausalAnalysis,
  // This component will have an automatically generated Autodocs entry: https://storybook.js.org/docs/7.0/react/writing-docs/docs-page
  tags: ["autodocs"],
  parameters: {
    // More on Story layout: https://storybook.js.org/docs/react/configure/story-layout
    layout: "fullscreen",
  },
  // More on argTypes: https://storybook.js.org/docs/react/api/argtypes
  argTypes: {},
  args: {
    style: { width: "100%" },
  },
  render: (args, context) => {
    return <CausalAnalysis {...args} isDark={isDarkBackground(context)} />;
  },
};

export default meta;
type Story = StoryObj<typeof CausalAnalysis>;

// More on component templates: https://storybook.js.org/docs/react/writing-stories/introduction#using-args
export const PredictabilityDrivers: Story = {
  // More on args: https://storybook.js.org/docs/react/writing-stories/args
  args: {
    metric: "feature_contributions",
    data: {
      Source: {
        "0": "default_in_last_6months",
        "1": "prev_defaults",
        "2": "credit_card_default",
        "3": "no_of_children",
        "4": "no_of_days_employed",
        "5": "no_of_children",
      },
      Destination: {
        "0": "credit_score",
        "1": "credit_score",
        "2": "credit_score",
        "3": "total_family_members",
        "4": "occupation_type",
        "5": "credit_score",
      },
      Delta: {
        "0": 0.14347523579539323,
        "1": 0.131495905605137,
        "2": 0.1269806668021333,
        "3": 0.09577667181987086,
        "4": 0.05361002428632399,
        "5": 0.046587883329421036,
      },
    },
  },
};

export const UncertaintyDrivers: Story = {
  args: {
    metric: "MDA",
    data: {
      Source: {
        "0": "prev_defaults",
        "1": "default_in_last_6months",
        "2": "prev_defaults",
        "3": "prev_defaults",
        "4": "prev_defaults",
        "5": "no_of_children",
        "6": "credit_card_default",
        "7": "prev_defaults",
        "8": "prev_defaults",
        "9": "migrant_worker",
        "10": "owns_house",
        "11": "age",
        "12": "prev_defaults",
        "13": "yearly_debt_payments",
        "14": "net_yearly_income",
        "15": "occupation_type",
        "16": "prev_defaults",
        "17": "no_of_children",
        "18": "prev_defaults",
        "19": "total_family_members",
        "20": "credit_card_default",
        "21": "credit_card_default",
        "22": "prev_defaults",
        "23": "prev_defaults",
        "24": "credit_limit",
        "25": "customer_id",
        "26": "credit_card_default",
        "27": "prev_defaults",
        "28": "no_of_days_employed",
        "29": "prev_defaults",
        "30": "net_yearly_income",
        "31": "credit_limit",
        "32": "no_of_children",
        "33": "credit_card_default",
        "34": "net_yearly_income",
        "35": "no_of_days_employed",
        "36": "owns_car",
        "37": "credit_card_default",
        "38": "credit_limit_used_percent",
        "39": "credit_score",
        "40": "credit_card_default",
        "41": "no_of_children",
        "42": "credit_score",
        "43": "credit_card_default",
        "44": "gender",
        "45": "occupation_type",
        "46": "owns_house",
        "47": "owns_house",
        "48": "credit_card_default",
        "49": "owns_car",
        "50": "owns_car",
        "51": "credit_limit",
        "52": "customer_id",
        "53": "gender",
        "54": "credit_score",
        "55": "credit_score",
        "56": "credit_score",
        "57": "no_of_children",
        "58": "owns_house",
        "59": "age",
        "60": "owns_house",
        "61": "name",
        "62": "credit_limit_used_percent",
        "63": "gender",
        "64": "yearly_debt_payments",
        "65": "no_of_children",
        "66": "credit_limit",
      },
      Destination: {
        "0": "credit_score",
        "1": "credit_score",
        "2": "credit_limit_used_percent",
        "3": "age",
        "4": "name",
        "5": "default_in_last_6months",
        "6": "credit_score",
        "7": "yearly_debt_payments",
        "8": "owns_car",
        "9": "prev_defaults",
        "10": "default_in_last_6months",
        "11": "default_in_last_6months",
        "12": "gender",
        "13": "default_in_last_6months",
        "14": "default_in_last_6months",
        "15": "prev_defaults",
        "16": "total_family_members",
        "17": "prev_defaults",
        "18": "customer_id",
        "19": "default_in_last_6months",
        "20": "occupation_type",
        "21": "credit_limit_used_percent",
        "22": "default_in_last_6months",
        "23": "net_yearly_income",
        "24": "default_in_last_6months",
        "25": "default_in_last_6months",
        "26": "migrant_worker",
        "27": "credit_limit",
        "28": "occupation_type",
        "29": "credit_card_default",
        "30": "age",
        "31": "age",
        "32": "total_family_members",
        "33": "yearly_debt_payments",
        "34": "gender",
        "35": "default_in_last_6months",
        "36": "migrant_worker",
        "37": "age",
        "38": "default_in_last_6months",
        "39": "migrant_worker",
        "40": "gender",
        "41": "credit_card_default",
        "42": "no_of_days_employed",
        "43": "name",
        "44": "occupation_type",
        "45": "default_in_last_6months",
        "46": "net_yearly_income",
        "47": "name",
        "48": "no_of_days_employed",
        "49": "net_yearly_income",
        "50": "yearly_debt_payments",
        "51": "credit_card_default",
        "52": "migrant_worker",
        "53": "credit_limit",
        "54": "total_family_members",
        "55": "net_yearly_income",
        "56": "gender",
        "57": "migrant_worker",
        "58": "total_family_members",
        "59": "total_family_members",
        "60": "migrant_worker",
        "61": "default_in_last_6months",
        "62": "migrant_worker",
        "63": "yearly_debt_payments",
        "64": "migrant_worker",
        "65": "gender",
        "66": "net_yearly_income",
      },
      Delta: {
        "0": 1.588482962742263,
        "1": 0.9204154099816217,
        "2": 0.7661172970375668,
        "3": 0.6623540926570033,
        "4": 0.6486660436941971,
        "5": 0.6205916967910872,
        "6": 0.6062984694253061,
        "7": 0.5602959230593272,
        "8": 0.5212660381960326,
        "9": 0.5099983751690023,
        "10": 0.4934332890936768,
        "11": 0.4824802380868466,
        "12": 0.47655683567579993,
        "13": 0.4675230214495942,
        "14": 0.44697538518336083,
        "15": 0.4026131020760419,
        "16": 0.3453903152926291,
        "17": 0.3013743353885386,
        "18": 0.2999656618823266,
        "19": 0.26774522795900124,
        "20": 0.2669336963623679,
        "21": 0.23238314917881248,
        "22": 0.21150506425498683,
        "23": 0.2080628801452741,
        "24": 0.19981736663610927,
        "25": 0.18917097783783257,
        "26": 0.16763649937002714,
        "27": 0.16490239825754857,
        "28": 0.13319254115146406,
        "29": 0.13289611375305355,
        "30": 0.12136652563962361,
        "31": 0.11761768790912289,
        "32": 0.11185138813298451,
        "33": 0.10347480989160014,
        "34": 0.09188531171020246,
        "35": 0.09018835990526433,
        "36": 0.09007881226865629,
        "37": 0.08824781705405406,
        "38": 0.08785401752439943,
        "39": 0.08734134530918503,
        "40": 0.084696401985362,
        "41": 0.08332899165222003,
        "42": 0.08215696938166317,
        "43": 0.08180180936739287,
        "44": 0.07204879471118414,
        "45": 0.07195878026067834,
        "46": 0.07125280784240934,
        "47": 0.06456211951544374,
        "48": 0.06449052124090049,
        "49": 0.06427925442287757,
        "50": 0.06420002986198706,
        "51": 0.060398662535932277,
        "52": 0.060357321807334025,
        "53": 0.05254473429198098,
        "54": 0.050599379887729445,
        "55": 0.0491237328228988,
        "56": 0.04684526022967444,
        "57": 0.04539939561439518,
        "58": 0.043059579561107536,
        "59": 0.04146206463843259,
        "60": 0.041146236621199095,
        "61": 0.04051096702759673,
        "62": 0.03976841109167661,
        "63": 0.03911529098863,
        "64": 0.039091840274483355,
        "65": 0.038500708397309666,
        "66": 0.038263136251094246,
      },
    },
  },
};
